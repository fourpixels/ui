<kirby-sandbox>

  <header>

    <kirby-bar class="breadcrumb-bar">
      <kirby-breadcrumb slot="left">
        <kirby-breadcrumb-item link="/"><kirby-icon type="chain" /></kirby-breadcrumb-item>
        <kirby-breadcrumb-item link="/about">About</kirby-breadcrumb-item>
        <kirby-breadcrumb-item link="/about/blog">Blog</kirby-breadcrumb-item>
      </kirby-breadcrumb>

      <kirby-button-group slot="right">
        <kirby-button icon="angle-left"></kirby-button>
        <kirby-button icon="angle-right"></kirby-button>
      </kirby-button-group>
    </kirby-bar>

    <kirby-headline size="large">Case Study: Git Tower</kirby-headline>

    <kirby-bar>
      <kirby-button-group slot="left">
        <kirby-button class="kirby-page-option" icon="play-circle">Preview</kirby-button>
        <kirby-button class="kirby-page-option" icon="toggle-on">Draft</kirby-button>
        <kirby-dropdown>
          <kirby-button class="kirby-page-option" @click="$refs.settings.toggle()" icon="cog">Settings</kirby-button>
          <kirby-dropdown-content :dark="true" ref="settings">
            <kirby-dropdown-item icon="clipboard">Copy</kirby-dropdown-item>
            <kirby-dropdown-item icon="google">SEO</kirby-dropdown-item>
            <kirby-dropdown-item icon="chain" @click="$refs.url.open()">Change URL</kirby-dropdown-item>
            <kirby-dropdown-item icon="trash" @click="$refs.remove.open()">Delete</kirby-dropdown-item>
          </kirby-dropdown-content>
        </kirby-dropdown>
      </kirby-button-group>

      <kirby-button-group slot="right">
        <kirby-dropdown>
          <kirby-button class="kirby-page-option" @click="$refs.languages.toggle()" icon="globe">EN</kirby-button>
          <kirby-dropdown-content :dark="true" ref="languages" align="right">
            <kirby-dropdown-item icon="globe">[EN] English</kirby-dropdown-item>
            <kirby-dropdown-item icon="globe">[DE] Deutsch</kirby-dropdown-item>
          </kirby-dropdown-content>
        </kirby-dropdown>
      </kirby-button-group>
    </kirby-bar>

  </header>

  <kirby-grid gutter="large">
    <kirby-column width="1/2">      
      <kirby-headline class="kirby-section-headline">
        Drafts 
        <kirby-dropdown>
          <kirby-button icon="search"  @click="$refs.filter.toggle(); $nextTick(function() { $refs.search.focus() }) "></kirby-button>
          <kirby-dropdown-content class="kirby-search-dropdown" :dark="true" ref="filter">
            <input ref="search" type="text" placeholder="Searchâ€¦">
          </kirby-dropdown-content>
        </kirby-dropdown>
      </kirby-headline>
      {{render '@pages'}}
    </kirby-column>
    <kirby-column width="1/2">
      <kirby-headline class="kirby-section-headline">
        Public Projects 
        <kirby-button style="margin-left: .5rem; color: #777" icon="search"></kirby-button>
      </kirby-headline>
      {{render '@pages'}}
    </kirby-column>
  </kirby-grid>

  <kirby-dialog ref="remove" headline="Delete a page" state="negative" button="Delete">
    <kirby-txt>Do you really want to delete this page?</kirby-txt>
  </kirby-dialog>

  <kirby-dialog ref="url" size="medium" headline="Change the URL" state="positive" button="Change">
    <kirby-fieldset :fields="[
      {
        name: 'url',
        label: 'URL appendix',
        type: 'text',
        help: '/about/blog/',
        icon: 'chain'
      }
    ]">
  </kirby-dialog>

</kirby-sandbox>

